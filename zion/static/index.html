<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Zion</title>
  <meta name="description" content="A Thing Description Directory for large-scale IoT projects.">
  <meta name="author" content="Cristiano Aguzzi">

  <meta name="viewport" content="width=device-width, initial-scale=1">

  <link href="//fonts.googleapis.com/css?family=Raleway:400,300,600" rel="stylesheet" type="text/css">

  <link rel="stylesheet" href="css/normalize.css">
  <link rel="stylesheet" href="css/skeleton.css">
  <link rel="stylesheet" href="css/spine-player.css">

  <link rel="icon" href="images/favicon.svg" type="image/svg+xml" sizes="any">
  <script src="https://unpkg.com/@esotericsoftware/spine-player@4.0.28/dist/iife/spine-player.js"></script>
  <style>
    .icon {
      width: 2.5em;
      overflow: hidden;
    }
    @media (min-width: 550px) {
    .offset-by-four-half.column,
    .offset-by-four-half.columns         { margin-left: 40%; }
    }
  </style>
  <script type="module">
    const data = await fetch('./explorer-json');
    const json = await data.json();
    document.getElementById("version").innerHTML = json.info.version;
  </script>
  <script defer>
    document.addEventListener('DOMContentLoaded', function (event) {
      if(typeof spine === "undefined"){
        document.getElementById('logo').remove();
        document.getElementById('placeholder').style.display = 'block'
        return;
      }

      document.getElementById('placeholder').style.display = 'none'
      new spine.SpinePlayer("logo", {
        // Relative URLs
        jsonUrl: "./assets/skeleton.json",
        atlasUrl: "./assets/skeleton.atlas",
        showControls: false,
        alpha: true, // Enable player translucency
        backgroundColor: "#00000000", // Background is fully transparent
        showLoading : false,
        success: function (player) {
          player.setAnimation("init", false);
          player.animationState.setAnimation(0, "init");
          player.animationState.addAnimation(0, "idle", true, 0);
          player.play();
        },
        viewport: {
          x: -90,
          y: -90,
          width: 558,
          height: 180,
          padLeft: "5%",
          padRight: "5%",
          padTop: "5%",
          padBottom: "5%"
        }
      });
    });
  </script>
</head>
<body>

  <!-- Primary Page Layout
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <div class="container">
    <div class="row">
      <div class="eight offset-by-two columns" id="logo" style="margin-top: 15%; aspect-ratio: 16 / 9;"></div>
      <img class="eight offset-by-two columns" id="placeholder"  style="margin-top: 15%;" src="./assets/zionLogo.gif" hidden loading="lazy"/>
    </div>
    <div class="row">
      <div class="four offset-by-four columns " style="text-align: center;">
        <h6>Version <span id="version"></span></h6>
      </div>
    </div>
    <div class="row">
      <div class="eight offset-by-two columns ">
        <p style="text-align: center;">
          Your Thing Description Directory is <b>up</b> and <b>running</b>. Look for the Thing Description? You can click below!
          You can also use the swagger to explore the API or visit the Github repository for more information.
        </p>
      </div>
    </div>
    <div class="row">
      
      <div class="one offset-by-four-half column"><a href="./.well-known/wot"><img class="icon" src="./images/td.png"></img></a></div>
      <div class="one column"><a href="https://github.com/vaimee/zion"><img class="icon" src="./images/github.png"></img></a></div>
      <div class="one column"><a href="./explorer"><img class="icon" src="./images/swagger.png"></img></a></div>
    </div>
  </div>
<!-- End Document
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
</body>
</html>
